# JavaScript的单线程设计

1.先看一个比喻

进程就是一个公司，每个公司都有自己的资源可以调度；公司之间是相互独立的；而线程就是公司中的每个员工(你，我，他)，多个员工一起合作，完成任务，公司可以有一名员工或多个，员工之间共享公司的空间。

2.什么是进程？

进程：是cpu分配资源的最小单位 （是能拥有资源和独立运行的最小单位）。

3.什么是线程？

线程：是cpu调度的最小单位 （线程是建立在进程的基础上的一次程序运行单位，一个进程中可以有多个线程）。

4.浏览器是多进程的

放在浏览器中，每打开一个tab页面，其实就是新开了一个进程，在这个过程中，还有UI渲染线程，js引擎线程，http请求线程等。所以浏览器是一个多进程的。

5.JavaScript为什么要设计成单线程？

这主要跟JS的用途有关，JS作为浏览器的脚本语言，主要是实现用户与浏览器的交互，以及操作DOM；这决定了他只能单线程，否则会带来很复杂的同步问题。举个例子：如果JS被设计成多线程，如果有一个线程要修改一个DOM元素，另一个要删除这个DOM元素，此时浏览器就会一脸茫然，不知所措。所以为了避免复杂性，从一诞生，JavaScript就是单线程，这已经成了这门语言的核心特征，将来也不会改变

为了利用多核CPU的计算能力，HTML5提出Web Work标准，允许JavaScript脚本创建多个线程，但是子线程完全受主线程控制，且不得操作DOM，所以这个标准并没有改变JavaScript单线程的本质。


